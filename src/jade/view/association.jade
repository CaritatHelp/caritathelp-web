extends ../layout/two-columns

block main-column
	asso-create(ng-show="association.creating")
	//-Message si l'utilisateur n'est membre d'aucune association
	.card.associations(ng-if="!association.currentUser.assos", ng-show="!association.creating")
		section.
			Vous n'êtes membre d'aucune association ! <br> Vous pouvez en créer une en cliquant sur le bouton situé dans la barre de navigation à gauche, ou bien en rejoindre une déjà existante en la séléctionnant dans la liste ci-dessous.
	//-Associations dont l'utilisateur est membre
	.card.associations(ng-if="association.currentUser.assos", ng-show="!association.creating")
		header
			h5 Vos associations
		section
			.table-responsive
				table.table.table-hover.table-max
					thead
						tr
							th Nom
							th Ville
							th Membres
							th Status
					tbody
						tr(ng-repeat="assoc in association.currentUser.assos")
							td
								a(ui-sref="association.home({id: {{assoc.id}}})") {{assoc.name}}
							td(ng-if="assoc.city") {{assoc.city}}
							td(ng-if="!assoc.city") Non renseigné
							td {{assoc.nb_friends_members}}
							td {{assoc.rights}}
	//-Liste de toutes les assos moins celles dont l'user est membre
	.card.associations(ng-show="!association.creating")
		.no-asso
			header
				h5 Toutes les associations
			section
				.table-responsive
					table.table.table-hover.table-max
						thead
							tr
								th Nom
								th Ville
								th Membres
						tbody
							tr(ng-repeat="assoc in association.assos", ng-show="!assoc.rights")
								td
									a(ui-sref="association.home({id: {{assoc.id}}})") {{assoc.name}}
								td(ng-if="assoc.city") {{assoc.city}}
								td(ng-if="!assoc.city") Non renseigné
								//- Ortographe amis
								td(ng-if="!assoc.nb_members") {{assoc.nb_members}}
								td(ng-if="assoc.nb_members && assoc.nb_friends_members == '0'") {{assoc.nb_members}}
								td(ng-if="assoc.nb_members && assoc.nb_friends_members == '1'") {{assoc.nb_members}} ({{assoc.nb_friends_members}} ami)
								td(ng-if="assoc.nb_members && assoc.nb_friends_members > 1") {{assoc.nb_members}} ({{assoc.nb_friends_members}} amis)
		.asso(ng-show="association.list.length")
			h4 Actualités de vos associations

block sidebar-column
	user-summary
	.action
		a(ng-click="association.startCreating()").
			#[i.fa.fa-plus]
			Créer une association
