extends ../layout/with-cover

block jumbotron
	.coverstatebackground(style="background-image:url(img/cover/skyline.jpg)")
	.cover--infos
		//- Image de profil (d√©faut si l'user n'en a pas)
		img.picture(ng-if="vm.user.picture", ng-src="{{vm.user.picture}}", alt="{{vm.user.firstname}} {{vm.user.lastname}}")
		h1.name {{vm.user.firstname}} {{vm.user.lastname}}
	nav.cover--navigation
		a(ng-click="vm.setTab(1)"
			ng-class="{active:vm.isSet(1)}") Timeline
		a(ng-click="vm.setTab(4)"
			ng-class="{active:vm.isSet(4)}") Amis
		a(ng-click="vm.setTab(2)"
			ng-class="{active:vm.isSet(2)}") Calendrier
		a(
			ng-if="vm.isCurrent",
			ng-click="vm.setTab(3)"
			ng-class="{active:vm.isSet(3)}") Settings

block tabs
	.timeline-tab(ng-show="vm.isSet(1)")
		.col-md-4
			user-summary
			.action(ng-if="!vm.isCurrent && !vm.user.friendship")
				a(ng-click="vm.addFriend()").
					#[i.fa.fa-plus]
					Ajouter en ami
			friend-list
			asso-list
		.col-md-8
			timeline(tl-id="vm.user.id", tl-type="'volunteer'")
	.friends-tab(ng-show="vm.isSet(4)")
		.col-md-3(ng-repeat="friend in vm.user.friends")
			user-summary(user-id="friend.id")
	.calendar-tab(ng-show="vm.isSet(2)")
		calendar(cal-type="'volunteer'", cal-id="vm.user.id")
	.settings-tab(
		ng-if="vm.isCurrent",
		ng-show="vm.isSet(3)",
		ng-controller="settingsController as settings"
	)
			include ../tabs/user-settings
